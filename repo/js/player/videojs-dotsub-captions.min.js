/**
 * videojs-dotsub-captions
 * @version 0.1.1
 * @copyright 2016 Brooks Lyrette <brooks@dotsub.com>
 * @license Apache-2.0
 */
!function(t){if("object"==typeof exports&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.videojsDotsubCaptions=t()}}(function(){return function t(e,n,i){function o(a,l){if(!n[a]){if(!e[a]){var u="function"==typeof require&&require;if(!l&&u)return u(a,!0);if(r)return r(a,!0);var s=new Error("Cannot find module '"+a+"'");throw s.code="MODULE_NOT_FOUND",s}var f=n[a]={exports:{}};e[a][0].call(f.exports,function(t){var n=e[a][1][t];return o(n?n:t)},f,f.exports,t,e,n,i)}return n[a].exports}for(var r="function"==typeof require&&require,a=0;a<i.length;a++)o(i[a]);return o}({1:[function(t,e,n){(function(t){"use strict";function i(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(n,"__esModule",{value:!0});var o="undefined"!=typeof window?window.videojs:"undefined"!=typeof t?t.videojs:null,r=i(o),a={language:{direction:"ltr"},captions:[]},l={display:[]},u={BOLD:["<b>","</b>"],ITALIC:["<i>","</i>"],UNDERLINE:["<u>","</u>"]},s=function(t){var e="",n=t.content;if(t.inlineStyles)for(var i=0;i<=n.length;i++){var o=!0,r=!1,a=void 0;try{for(var l,s=t.inlineStyles[Symbol.iterator]();!(o=(l=s.next()).done);o=!0){var f=l.value;i===f.offset?e+=u[f.style][0]:i===f.offset+f.length&&(e+=u[f.style][1])}}catch(d){r=!0,a=d}finally{try{!o&&s["return"]&&s["return"]()}finally{if(r)throw a}}i<n.length&&(e+=n[i])}else e=t.content;return e.replace(/\n/g,"<br/>")},f=function(t,e){var n=document.createElement("div");if(l.language&&l.language.direction&&(n.dir=l.language.direction),n.classList.add("vjs-caption-containter"),t.horizontalPosition?n.style["text-align"]=t.horizontalPosition.toLowerCase():n.style["text-align"]="center",t.verticalPosition){var i=t.verticalPosition;"BOTTOM"===i?(n.style.bottom="40px",n.style.top=""):"MIDDLE"===i?(n.style.bottom="",n.style.top=e.height()/3+10+"px"):"TOP"===i&&(n.style.bottom="",n.style.top="10px")}else n.bottom="40px",n.style.top="";return n},d=function(t,e,n){var i=e.el(),o=document.createElement("div"),r=document.createElement("div");n.appendChild(o),o.appendChild(r),o.classList.add("vjs-caption"),r.classList.add("vjs-text"),i.appendChild(n),r.innerHTML=s(t)},c=function(t){var e=1e3*t.currentTime(),n=t.el(),i=l.captions.filter(function(t){return t.start<=e&&t.end>=e});if(JSON.stringify(i)!==JSON.stringify(l.display)){var o=[].slice.call(n.getElementsByClassName("vjs-caption-containter"));o.forEach(function(t){return t.parentNode.removeChild(t)});var r={},a=!0,u=!1,s=void 0;try{for(var c,p=i[Symbol.iterator]();!(a=(c=p.next()).done);a=!0){var y=c.value,v=void 0;r[y.horizontalPosition+"-"+y.verticalPosition]?v=r[y.horizontalPosition+"-"+y.verticalPosition]:(v=f(y,t),r[y.horizontalPosition+"-"+y.verticalPosition]=v),d(y,t,v),l.display=i}}catch(g){u=!0,s=g}finally{try{!a&&p["return"]&&p["return"]()}finally{if(u)throw s}}}},p=function(t,e){l.captions=e,c(t)},y=function(t,e){l.language=e},v=function(t){t.setCaptions=function(e){return p(t,e)},t.setLanguage=function(e){return y(t,e)},t.on("captions",function(e,n){return p(t,n)}),t.on("language",function(e,n){return y(t,n)}),t.on("timeupdate",function(){return c(t)}),c(t)},g=function(t,e){t.addClass("vjs-dotsub-captions"),v(t),t.trigger("captionsready")},h=function(t){var e=this;this.ready(function(){l=r["default"].mergeOptions(a,t),g(e,l)})};r["default"].plugin("dotsubCaptions",h),h.VERSION="0.1.1",n["default"]=h,e.exports=n["default"]}).call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}]},{},[1])(1)});